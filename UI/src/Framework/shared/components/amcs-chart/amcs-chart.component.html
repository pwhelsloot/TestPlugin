<div [ngClass]="{'col-lg-12 col-md-12 col-sm-12': !legendItems, 'col-lg-9 col-md-9 col-sm-9': legendItems}">
  <div [ngStyle]="{'height': heightString, 'width': widthString}">
    <canvas baseChart #baseChart="base-chart" [height]="height" [chartType]="chartType" [data]="data"
      [datasets]="datasets" [labels]="labels" [options]="options" [colors]="colors" [legend]="legend"
      (chartClick)="onChartClick($event)" (chartHover)="onChartHover($event)" appAutomationLocator [compName]="compName"
      [uniqueKey]="chartType"></canvas>
  </div>
</div>
<div *ngIf="useHtmlLegend && legendItems" [ngStyle]="{'height.px': height}"
  class="col-lg-3 col-md-3 col-sm-3 html-legend">
  <div class="col-lg-12 col-md-12 col-sm-12 legend-base" *ngFor="let legendItem of legendItems">
    <div class="legend-color-block col-lg-2 col-md-2 col-sm-2"
      [ngStyle]="{'background-color': legendItem.fillStyle, 'border-color': legendItem.strokeStyle}">
      &nbsp;
    </div>
    <div class="legend-color-text col-lg-8 col-md-8 col-sm-8">
      <app-amcs-tooltip-on-truncate [text]="legendItem.text">
      </app-amcs-tooltip-on-truncate>
    </div>
  </div>
</div>