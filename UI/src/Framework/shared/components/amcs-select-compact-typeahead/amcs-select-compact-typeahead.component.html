<div class="form-group form-md-line-input amcs-input"
  [ngClass]="{'has-error' : hasError, 'has-success' : !hasError && edited, 'small-mode': displayMode === FormControlDisplay.Small, 'grid-mode': displayMode === FormControlDisplay.Grid}"
  appAutomationLocator [compName]="compName" [uniqueKey]="formControlName+'_'+uniqueKey">
  <div class="form-control" [ngClass]="{'edited' : edited, 'append-to-body': appendToBody }">
    <ng-select [items]="items$ ? (items$ | async) : items" [groupBy]="groupBy" bindLabel="{{bindLabel}}"
      (keydown.Tab)=(onTabPressed()) [bindValue]="bindValue != null ? bindValue : null" loadingText="{{loadingText}}"
      typeToSearchText="{{typeToSearchText}}" notFoundText="{{notFoundText}}" #select [ngModel]="value"
      [loading]="loading" [virtualScroll]="true" (ngModelChange)="writeValue($event)" (blur)="onBlur($event)"
      [ngClass]="{'edited' : edited}" [disabled]="isDisabled" clearAllText="{{'tooltip.clearAll' | translate}}"
      [appendTo]="appendTo" class="custom" [editableSearchTerm]="editableSearchTerm" appAutomationLocator
      [compName]="compName" [uniqueKey]="formControlName+'_'+uniqueKey+'_select'" (close) = "onDropDownClose($event)" >
      <ng-template ng-label-tmp let-item="item">
        <app-amcs-tooltip-on-truncate [text]="item[bindLabel]"></app-amcs-tooltip-on-truncate>
      </ng-template>
      <ng-template ng-option-tmp let-item="item">
        <app-amcs-tooltip-on-truncate [text]="item[bindLabel]"></app-amcs-tooltip-on-truncate>
      </ng-template>
    </ng-select>
  </div>
  <label>
    <ng-content></ng-content>
  </label>
</div>
